!function(e){"use strict";Drupal.behaviors.site_search={attach:function(c,a){var n=this;n.searchInit(),e(".search-form",c).on("submit",function(){n.searchSubmit.call(this)})},searchInit:function(){var c=this,a=e(".search-toggle"),n=e("#btn-search-close"),r=e(".search-container"),o=r.find(".search__input");a.on("click",function(){c.openSearch(r,o)}),n.on("click",function(){c.closeSearch()})},openSearch:function(c,a){c.addClass("search--open"),a.focus(),e(document).on("keyup",Drupal.behaviors.site_search.escCloseSearch)},closeSearch:function(){var c=e(".search-container.search--open"),a=c.find(".search_enhancements_form .form-autocomplete");a.blur(),a.val(""),c.removeClass("search--open"),e(document).off("keyup",Drupal.behaviors.site_search.escCloseSearch)},escCloseSearch:function(e){27===e.keyCode&&Drupal.behaviors.site_search.closeSearch()},searchSubmit:function(){event.preventDefault();var c=e("input",this).val();c=encodeURIComponent(c);var a="/search/";a+=c.replace(/\//," "),window.location.replace(a)}}}(jQuery);
