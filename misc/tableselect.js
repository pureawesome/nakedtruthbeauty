!function(e){Drupal.behaviors.tableSelect={attach:function(t,l){e("th.select-all",t).closest("table").once("table-select",Drupal.tableSelect)}},Drupal.tableSelect=function(){if(0!=e("td input:checkbox",this).length){var t,l,c=this,i={selectAll:Drupal.t("Select all rows in this table"),selectNone:Drupal.t("Deselect all rows in this table")},s=function(t){e(c).prev("table.sticky-header").andSelf().find("th.select-all input:checkbox").each(function(){e(this).attr("title",t?i.selectNone:i.selectAll),this.checked=t})};e("th.select-all",c).prepend(e('<input type="checkbox" class="form-checkbox" />').attr("title",i.selectAll)).click(function(l){e(l.target).is("input:checkbox")&&(t.each(function(){this.checked=l.target.checked,e(this).closest("tr").toggleClass("selected",this.checked)}),s(l.target.checked))}),t=e("td input:checkbox:enabled",c).click(function(c){e(this).closest("tr").toggleClass("selected",this.checked),c.shiftKey&&l&&l!=c.target&&Drupal.tableSelectRange(e(c.target).closest("tr")[0],e(l).closest("tr")[0],c.target.checked),s(t.length==e(t).filter(":checked").length),l=c.target}),s(t.length==e(t).filter(":checked").length)}},Drupal.tableSelectRange=function(t,l,c){for(var i=t.rowIndex>l.rowIndex?"previousSibling":"nextSibling",s=t[i];s;s=s[i])if(1==s.nodeType)if(e(s).toggleClass("selected",c),e("input:checkbox",s).each(function(){this.checked=c}),l.nodeType){if(s==l)break}else if(e.filter(l,[s]).r.length)break}}(jQuery);
