!function(e){Drupal.behaviors.setTimezone={attach:function(t,a){e("select.timezone-detect",t).once("timezone",function(){var t,n=Date(),s=n.match(/\(([A-Z]{3,5})\)/),o=s?s[1]:0,i=new Date,c=i.getTimezoneOffset()*-60,f=new Date(i.getFullYear(),0,1,12,0,0,0),m=new Date(i.getFullYear(),6,1,12,0,0,0),u=f.getTimezoneOffset()*-60,l=m.getTimezoneOffset()*-60;t=u==l?"":Math.max(u,l)==c?1:0;var r="system/timezone/"+o+"/"+c+"/"+t,z=this;e.ajax({async:!1,url:a.basePath,data:{q:r,date:n},dataType:"json",success:function(t){t&&e(z).val(t)}})})}}}(jQuery);
